{"version":3,"sources":["webpack:///./src/components/radar/RadarAnimation.js","webpack:///./src/components/radar/RadarAnimation.scss","webpack:///./src/components/radar/index.js","webpack:///./src/elements/content-sidebar/versions/VersionsGroup.js","webpack:///./src/elements/content-sidebar/versions/VersionsGroup.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItem.js","webpack:///./src/elements/content-sidebar/versions/VersionsItem.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemAction.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemAction.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemActions.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemActions.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemBadge.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemBadge.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemButton.js","webpack:///./src/elements/content-sidebar/versions/VersionsItemButton.scss","webpack:///./src/elements/content-sidebar/versions/VersionsItemRetention.js","webpack:///./src/elements/content-sidebar/versions/VersionsList.js","webpack:///./src/elements/content-sidebar/versions/VersionsList.scss","webpack:///./src/elements/content-sidebar/versions/VersionsMenu.js","webpack:///./src/elements/content-sidebar/versions/VersionsMenu.scss","webpack:///./src/elements/content-sidebar/versions/VersionsSidebar.js","webpack:///./src/elements/content-sidebar/versions/VersionsSidebar.scss","webpack:///./src/elements/content-sidebar/versions/VersionsSidebarAPI.js","webpack:///./src/elements/content-sidebar/versions/VersionsSidebarContainer.js","webpack:///./src/elements/content-sidebar/versions/index.js","webpack:///./src/elements/content-sidebar/versions/messages.js","webpack:///./src/icons/general/IconClockPast.js","webpack:///./src/icons/general/IconDownload.js","webpack:///./src/icons/general/IconOpenWith.js","webpack:///./src/icons/general/IconUpload.js","webpack:///./src/utils/iframe.js","webpack:///./src/utils/size.js"],"names":["BOTTOM_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","MIDDLE_CENTER","MIDDLE_LEFT","MIDDLE_RIGHT","TOP_CENTER","TOP_LEFT","TOP_RIGHT","positions","attachment","targetAttachment","RadarAnimation","React","uniqueId","isShown","props","tetherRef","current","position","render","children","className","constrainToScrollParent","constrainToWindow","constraints","push","to","tetherPosition","only","radarAnimationID","VersionsGroup","heading","rest","ACTION_MAP","VERSION_DELETE_ACTION","messages","versionDeletedBy","VERSION_RESTORE_ACTION","versionRestoredBy","VERSION_PROMOTE_ACTION","versionPromotedBy","VERSION_UPLOAD_ACTION","versionUploadedBy","FIVE_MINUTES_MS","VersionsItem","fileId","isCurrent","isSelected","isWatermarked","onDelete","onDownload","onPreview","onPromote","onRestore","version","versionCount","versionLimit","created_at","createdAt","id","versionId","is_download_available","permissions","restored_at","restoredAt","retention","size","trashed_at","trashedAt","version_number","versionNumber","version_promoted","versionPromoted","can_delete","can_download","can_preview","can_upload","applied_at","retentionAppliedAt","disposition_at","retentionDispositionAt","retentionDispositionAtDate","Date","versionAction","selectors","getVersionAction","versionInteger","parseInt","versionTime","versionTimestamp","getTime","versionUserName","getVersionUser","name","versionUserUnknown","isDeleted","isDownloadable","isLimited","isRestricted","isRetained","canPreview","showDelete","showDownload","showPromote","showRestore","showPreview","hasActions","handleAction","handler","versionCurrent","sizeUtil","versionLimitExceeded","VersionsItemAction","action","handleMenuClose","event","stopPropagation","handleToggleClick","VersionsItemActions","versionActionToggle","text","versionActionPreview","versionActionDownload","versionActionPromote","versionActionRestore","versionActionDisabledRetention","versionActionDelete","VersionsItemBadge","intl","intlValues","formatMessage","versionNumberLabel","versionNumberBadge","injectIntl","VersionsItemButton","buttonRef","scrollIntoView","componentDidMount","setScroll","componentDidUpdate","prevIsSelected","isDisabled","onClick","buttonClassName","classNames","setButtonRef","RETENTION_MAP","VERSION_RETENTION_DELETE_ACTION","versionRetentionDelete","VERSION_RETENTION_REMOVE_ACTION","versionRetentionRemove","VersionsItemRetention","dispositionAt","winning_retention_policy","retentionPolicy","disposition_action","dispositionAction","retention_length","retentionLength","dispositionAtTime","VERSION_RETENTION_INDEFINITE","versionRetentionIndefinite","time","VersionsList","currentId","versions","map","match","params","getHeading","currentDate","currentDay","getDay","currentSunday","getDate","createdAtDate","util","versionsToday","versionsYesterday","formatDate","year","month","versionsThisMonth","versionsPriorWeek","weekday","VersionsMenu","memo","versionGroups","reduce","groups","currentGroup","last","groupHeading","groupVersions","MAX_VERSIONS","DEFAULT_FETCH_END","VersionsSidebar","error","isLoading","parentName","showLimit","length","showVersions","showEmpty","showError","versionsTitle","versionServerError","versionsEmpty","versionMaxEntries","maxVersions","VersionsSidebarAPI","constructor","api","Promise","all","fetchFile","fetchVersions","then","fetchVersionCurrent","resolve","reject","Error","getFileAPI","getDownloadUrl","getFile","fields","FILE_VERSION_FIELDS_TO_FETCH","forceFetch","getVersionsAPI","getVersions","fileResponse","versionsResponse","file_version","getVersion","currentVersionResponse","addCurrentVersion","deleteVersion","successCallback","errorCallback","promoteVersion","restoreVersion","VersionsSidebarContainer","Component","Infinity","window","setState","findVersion","fetchVersion","handleDeleteSuccess","onVersionDelete","catch","handleActionError","versionActionDeleteError","fetchDownloadUrl","openUrlInsideIframe","onVersionDownload","versionActionDownloadError","updateVersion","onVersionPreview","fetchData","handleFetchSuccess","handlePromoteSuccess","onVersionPromote","versionActionPromoteError","handleRestoreSuccess","onVersionRestore","versionActionRestoreError","message","data","selectedVersionId","mergeResponse","updateVersionToCurrent","versionFetchError","version_limit","getProp","undefined","versionsWithPermissions","addPermissions","entries","total_count","sortVersions","verifyVersion","file","fileVersion","handleFetchError","state","find","newVersion","newVersionId","merge","newVersions","mergeVersions","history","generatePath","path","getCurrentVersionId","onVersionChange","selectedVersion","currentVersionId","initialize","prevFileId","prevVersionId","refresh","componentWillUnmount","sort","a","b","parse","handleActionDelete","handleActionDownload","handleActionPreview","handleActionPromote","handleActionRestore","noop","flow","withRouter","withAPIContext","defineMessages","IconClockPast","color","height","title","width","IconDownload","bdlGray80","IconOpenWith","IconUpload","createDownloadIframe","iframe","document","querySelector","createElement","setAttribute","style","display","body","appendChild","contentDocument","write","url","src","kilo","decimals","sizes","exp","Math","floor","log","parseFloat","toFixed"],"mappings":"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","file":"versions-sidebar.js","sourcesContent":["// @flow\nimport * as React from 'react';\nimport uniqueId from 'lodash/uniqueId';\nimport TetherComponent from 'react-tether';\n\nimport './RadarAnimation.scss';\n\nconst BOTTOM_CENTER = 'bottom-center';\nconst BOTTOM_LEFT = 'bottom-left';\nconst BOTTOM_RIGHT = 'bottom-right';\nconst MIDDLE_CENTER = 'middle-center';\nconst MIDDLE_LEFT = 'middle-left';\nconst MIDDLE_RIGHT = 'middle-right';\nconst TOP_CENTER = 'top-center';\nconst TOP_LEFT = 'top-left';\nconst TOP_RIGHT = 'top-right';\n\nconst positions = {\n    [BOTTOM_CENTER]: {\n        attachment: 'top center',\n        targetAttachment: 'bottom center',\n    },\n    [BOTTOM_LEFT]: {\n        attachment: 'top left',\n        targetAttachment: 'bottom left',\n    },\n    [BOTTOM_RIGHT]: {\n        attachment: 'top right',\n        targetAttachment: 'bottom right',\n    },\n    [MIDDLE_CENTER]: {\n        attachment: 'middle center',\n        targetAttachment: 'middle center',\n    },\n    [MIDDLE_LEFT]: {\n        attachment: 'middle right',\n        targetAttachment: 'middle left',\n    },\n    [MIDDLE_RIGHT]: {\n        attachment: 'middle left',\n        targetAttachment: 'middle right',\n    },\n    [TOP_CENTER]: {\n        attachment: 'bottom center',\n        targetAttachment: 'top center',\n    },\n    [TOP_LEFT]: {\n        attachment: 'bottom left',\n        targetAttachment: 'top left',\n    },\n    [TOP_RIGHT]: {\n        attachment: 'bottom right',\n        targetAttachment: 'top right',\n    },\n};\n\nexport type Position = $Keys<typeof positions>;\n\ntype Props = {\n    /** A React element to put the radar on */\n    children: React.Element<any>,\n    /** A CSS class for the radar */\n    className?: string,\n    /** Whether to constrain the radar to the element's scroll parent. Defaults to `false` */\n    constrainToScrollParent: boolean,\n    /** Whether to constrain the radar to window. Defaults to `true` */\n    constrainToWindow: boolean,\n    /** Forces the radar to be shown or hidden - defaults to true */\n    isShown: boolean,\n    /** Where to position the radar relative to the wrapped component */\n    position: Position,\n};\n\nclass RadarAnimation extends React.Component<Props> {\n    static defaultProps = {\n        constrainToScrollParent: false,\n        constrainToWindow: true,\n        isShown: true,\n        position: MIDDLE_RIGHT,\n    };\n\n    tetherRef = React.createRef<{ position: () => {} }>();\n\n    radarAnimationID = uniqueId('radarAnimation');\n\n    // Instance API: Forces the radar to be repositioned\n    position = () => {\n        const { isShown } = this.props;\n        if (this.tetherRef.current && isShown) {\n            this.tetherRef.current.position();\n        }\n    };\n\n    render() {\n        const { children, className = '', constrainToScrollParent, constrainToWindow, position, isShown } = this.props;\n\n        const constraints = [];\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        const tetherPosition = positions[position];\n        return (\n            <TetherComponent\n                attachment={tetherPosition.attachment}\n                classPrefix=\"radar-animation\"\n                constraints={constraints}\n                targetAttachment={tetherPosition.targetAttachment}\n                ref={this.tetherRef}\n            >\n                {React.cloneElement(React.Children.only(children), {\n                    'aria-describedby': this.radarAnimationID,\n                })}\n                {isShown && (\n                    <div className={`radar ${className}`} id={this.radarAnimationID}>\n                        <div className=\"radar-dot\" />\n                        <div className=\"radar-circle\" />\n                    </div>\n                )}\n            </TetherComponent>\n        );\n    }\n}\n\nexport default RadarAnimation;\n","// extracted by mini-css-extract-plugin","// @flow\nexport { default } from './RadarAnimation';\n","/**\n * @flow\n * @file Versions Group component\n * @author Box\n */\n\nimport React from 'react';\nimport VersionsList from './VersionsList';\nimport './VersionsGroup.scss';\n\ntype Props = {\n    fileId: string,\n    heading: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsGroup = ({ heading, ...rest }: Props) => {\n    return (\n        <section className=\"bcs-VersionsGroup\">\n            <h1 className=\"bcs-VersionsGroup-heading\">{heading}</h1>\n            <VersionsList {...rest} />\n        </section>\n    );\n};\n\nexport default VersionsGroup;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from './messages';\nimport selectors from '../../common/selectors/version';\nimport sizeUtil from '../../../utils/size';\nimport VersionsItemActions from './VersionsItemActions';\nimport VersionsItemButton from './VersionsItemButton';\nimport VersionsItemBadge from './VersionsItemBadge';\nimport VersionsItemRetention from './VersionsItemRetention';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_DELETE_ACTION,\n    VERSION_PROMOTE_ACTION,\n    VERSION_RESTORE_ACTION,\n    VERSION_UPLOAD_ACTION,\n} from '../../../constants';\nimport type { VersionActionCallback } from './flowTypes';\nimport './VersionsItem.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isSelected?: boolean,\n    isWatermarked?: boolean,\n    onDelete?: VersionActionCallback,\n    onDownload?: VersionActionCallback,\n    onPreview?: VersionActionCallback,\n    onPromote?: VersionActionCallback,\n    onRestore?: VersionActionCallback,\n    version: BoxItemVersion,\n    versionCount: number,\n    versionLimit: number,\n};\n\nconst ACTION_MAP = {\n    [VERSION_DELETE_ACTION]: messages.versionDeletedBy,\n    [VERSION_RESTORE_ACTION]: messages.versionRestoredBy,\n    [VERSION_PROMOTE_ACTION]: messages.versionPromotedBy,\n    [VERSION_UPLOAD_ACTION]: messages.versionUploadedBy,\n};\nconst FIVE_MINUTES_MS = 5 * 60 * 1000;\n\nconst VersionsItem = ({\n    fileId,\n    isCurrent = false,\n    isSelected = false,\n    isWatermarked = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    version,\n    versionCount,\n    versionLimit,\n}: Props) => {\n    const {\n        created_at: createdAt,\n        id: versionId,\n        is_download_available,\n        permissions = {},\n        restored_at: restoredAt,\n        retention,\n        size,\n        trashed_at: trashedAt,\n        version_number: versionNumber,\n        version_promoted: versionPromoted,\n    } = version;\n    const { can_delete, can_download, can_preview, can_upload } = permissions;\n    const { applied_at: retentionAppliedAt, disposition_at: retentionDispositionAt } = retention || {};\n    const retentionDispositionAtDate = retentionDispositionAt && new Date(retentionDispositionAt);\n\n    // Version info helpers\n    const versionAction = selectors.getVersionAction(version);\n    const versionInteger = versionNumber ? parseInt(versionNumber, 10) : 1;\n    const versionTime = restoredAt || trashedAt || createdAt;\n    const versionTimestamp = versionTime && new Date(versionTime).getTime();\n    const versionUserName = selectors.getVersionUser(version).name || (\n        <FormattedMessage {...messages.versionUserUnknown} />\n    );\n\n    // Version state helpers\n    const isDeleted = versionAction === VERSION_DELETE_ACTION;\n    const isDownloadable = !!is_download_available;\n    const isLimited = versionCount - versionInteger >= versionLimit;\n    const isRestricted = isWatermarked && !isCurrent; // Watermarked files do not support prior version preview\n    const isRetained = !!retentionAppliedAt && (!retentionDispositionAtDate || retentionDispositionAtDate > new Date());\n\n    // Version action helpers\n    const canPreview = can_preview && !isDeleted && !isLimited && !isRestricted;\n    const showDelete = can_delete && !isDeleted && !isCurrent;\n    const showDownload = can_download && !isDeleted && isDownloadable;\n    const showPromote = can_upload && !isDeleted && !isCurrent;\n    const showRestore = can_delete && isDeleted;\n    const showPreview = canPreview && !isSelected;\n    const hasActions = showDelete || showDownload || showPreview || showPromote || showRestore;\n\n    // Version action callback helper\n    const handleAction = (handler?: VersionActionCallback) => (): void => {\n        if (handler) {\n            handler(versionId);\n        }\n    };\n\n    return (\n        <div className=\"bcs-VersionsItem\">\n            <VersionsItemButton\n                fileId={fileId}\n                isCurrent={isCurrent}\n                isDisabled={!canPreview}\n                isSelected={isSelected}\n                onClick={handleAction(onPreview)}\n            >\n                <div className=\"bcs-VersionsItem-badge\">\n                    <VersionsItemBadge versionNumber={versionNumber} />\n                </div>\n\n                <div className=\"bcs-VersionsItem-details\">\n                    {isCurrent && (\n                        <div className=\"bcs-VersionsItem-current\">\n                            <FormattedMessage {...messages.versionCurrent} />\n                        </div>\n                    )}\n\n                    <div className=\"bcs-VersionsItem-log\" data-testid=\"bcs-VersionsItem-log\" title={versionUserName}>\n                        <FormattedMessage\n                            {...ACTION_MAP[versionAction]}\n                            values={{ name: versionUserName, versionPromoted }}\n                        />\n                    </div>\n\n                    <div className=\"bcs-VersionsItem-info\">\n                        {versionTimestamp && (\n                            <time className=\"bcs-VersionsItem-date\" dateTime={versionTime}>\n                                <ReadableTime\n                                    alwaysShowTime\n                                    relativeThreshold={FIVE_MINUTES_MS}\n                                    timestamp={versionTimestamp}\n                                />\n                            </time>\n                        )}\n                        {!!size && <span className=\"bcs-VersionsItem-size\">{sizeUtil(size)}</span>}\n                    </div>\n\n                    {isRetained && (\n                        <div className=\"bcs-VersionsItem-retention\">\n                            <VersionsItemRetention retention={retention} />\n                        </div>\n                    )}\n\n                    {isLimited && hasActions && (\n                        <div className=\"bcs-VersionsItem-footer\">\n                            <FormattedMessage {...messages.versionLimitExceeded} values={{ versionLimit }} />\n                        </div>\n                    )}\n                </div>\n            </VersionsItemButton>\n\n            {!isLimited && hasActions && (\n                <VersionsItemActions\n                    fileId={fileId}\n                    isCurrent={isCurrent}\n                    isRetained={isRetained}\n                    onDelete={handleAction(onDelete)}\n                    onDownload={handleAction(onDownload)}\n                    onPreview={handleAction(onPreview)}\n                    onPromote={handleAction(onPromote)}\n                    onRestore={handleAction(onRestore)}\n                    showDelete={showDelete}\n                    showDownload={showDownload}\n                    showPreview={showPreview}\n                    showPromote={showPromote}\n                    showRestore={showRestore}\n                />\n            )}\n        </div>\n    );\n};\nexport default VersionsItem;\n","// extracted by mini-css-extract-plugin","/**\n * @flow strict\n * @file Versions Item Action component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { MenuItem } from '../../../components/menu';\nimport './VersionsItemAction.scss';\n\ntype Props = {\n    action: string,\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n};\n\nconst VersionsItemAction = ({ action, children, fileId, isCurrent, ...rest }: Props) => (\n    <MenuItem\n        className=\"bcs-VersionsItemAction\"\n        data-resin-iscurrent={isCurrent}\n        data-resin-itemid={fileId}\n        data-resin-target={action}\n        {...rest}\n    >\n        {children}\n    </MenuItem>\n);\n\nexport default VersionsItemAction;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Actions component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isRetained?: boolean,\n    onDelete?: () => void,\n    onDownload?: () => void,\n    onPreview?: () => void,\n    onPromote?: () => void,\n    onRestore?: () => void,\n    showDelete?: boolean,\n    showDownload?: boolean,\n    showPreview?: boolean,\n    showPromote?: boolean,\n    showRestore?: boolean,\n};\n\nconst handleMenuClose = (event: SyntheticEvent<>) => {\n    event.stopPropagation();\n};\n\nconst handleToggleClick = (event: SyntheticMouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n};\n\nconst VersionsItemActions = ({\n    fileId,\n    isCurrent = false,\n    isRetained = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    showDelete = false,\n    showDownload = false,\n    showPreview = false,\n    showPromote = false,\n    showRestore = false,\n}: Props) => {\n    if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n        return null;\n    }\n\n    return (\n        <DropdownMenu\n            className=\"bcs-VersionsItemActions\"\n            constrainToScrollParent\n            constrainToWindow\n            isRightAligned\n            onMenuClose={handleMenuClose}\n        >\n            <PlainButton\n                className=\"bcs-VersionsItemActions-toggle\"\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"overflow\"\n                onClick={handleToggleClick}\n                type=\"button\"\n            >\n                <IconEllipsis height={4} width={14} />\n                <FormattedMessage {...messages.versionActionToggle}>\n                    {(text: string) => <span className=\"accessibility-hidden\">{text}</span>}\n                </FormattedMessage>\n            </PlainButton>\n\n            <Menu\n                className=\"bcs-VersionsItemActions-menu\"\n                data-resin-component=\"preview\" // Needed for resin events due to tether moving menu to body\n                data-resin-feature=\"versions\" // Needed for resin events due to tether moving menu to body\n            >\n                {showPreview && (\n                    <VersionsItemAction action=\"preview\" fileId={fileId} isCurrent={isCurrent} onClick={onPreview}>\n                        <IconOpenWith />\n                        <FormattedMessage {...messages.versionActionPreview} />\n                    </VersionsItemAction>\n                )}\n\n                {showDownload && (\n                    <VersionsItemAction action=\"download\" fileId={fileId} isCurrent={isCurrent} onClick={onDownload}>\n                        <IconDownload />\n                        <FormattedMessage {...messages.versionActionDownload} />\n                    </VersionsItemAction>\n                )}\n                {showPromote && (\n                    <VersionsItemAction action=\"promote\" fileId={fileId} isCurrent={isCurrent} onClick={onPromote}>\n                        <IconUpload />\n                        <FormattedMessage {...messages.versionActionPromote} />\n                    </VersionsItemAction>\n                )}\n                {showRestore && (\n                    <VersionsItemAction action=\"restore\" fileId={fileId} isCurrent={isCurrent} onClick={onRestore}>\n                        <IconClockPast height={14} width={14} />\n                        <FormattedMessage {...messages.versionActionRestore} />\n                    </VersionsItemAction>\n                )}\n                {showDelete && (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={<FormattedMessage {...messages.versionActionDisabledRetention} />}\n                        isTabbable={false}\n                        isDisabled={!isRetained}\n                    >\n                        <VersionsItemAction\n                            action=\"remove\"\n                            fileId={fileId}\n                            isCurrent={isCurrent}\n                            isDisabled={isRetained}\n                            onClick={onDelete}\n                        >\n                            <IconTrash />\n                            <FormattedMessage {...messages.versionActionDelete} />\n                        </VersionsItemAction>\n                    </Tooltip>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default VersionsItemActions;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Badge component\n * @author Box\n */\nimport * as React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport type { intlShape } from 'react-intl';\nimport messages from './messages';\nimport './VersionsItemBadge.scss';\n\ntype Props = {\n    intl: intlShape,\n    versionNumber: string,\n};\n\nconst VersionsItemBadge = ({ intl, versionNumber }: Props) => {\n    const intlValues = { versionNumber };\n\n    return (\n        <div aria-label={intl.formatMessage(messages.versionNumberLabel, intlValues)} className=\"bcs-VersionsItemBadge\">\n            <FormattedMessage {...messages.versionNumberBadge} values={intlValues} />\n        </div>\n    );\n};\n\nexport default injectIntl(VersionsItemBadge);\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Item Button component\n * @author Box\n */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PlainButton from '../../../components/plain-button';\nimport { scrollIntoView } from '../../../utils/dom';\nimport './VersionsItemButton.scss';\n\ntype Props = {\n    children: React.Node,\n    fileId: string,\n    isCurrent: boolean,\n    isDisabled: boolean,\n    isSelected: boolean,\n    onClick: (event: SyntheticMouseEvent<HTMLButtonElement>) => void,\n};\n\nclass VersionsItemButton extends React.Component<Props> {\n    static defaultProps = {\n        isCurrent: false,\n        isDisabled: false,\n        isSelected: false,\n    };\n\n    buttonRef: ?HTMLButtonElement;\n\n    componentDidMount() {\n        this.setScroll();\n    }\n\n    componentDidUpdate({ isSelected: prevIsSelected }: Props) {\n        const { isSelected } = this.props;\n\n        if (isSelected !== prevIsSelected) {\n            this.setScroll();\n        }\n    }\n\n    setButtonRef = (buttonRef: ?HTMLButtonElement): void => {\n        this.buttonRef = buttonRef;\n    };\n\n    setScroll = () => {\n        const { isSelected } = this.props;\n\n        if (this.buttonRef && isSelected) {\n            scrollIntoView(this.buttonRef);\n        }\n    };\n\n    render() {\n        const { children, fileId, isCurrent, isDisabled, isSelected, onClick } = this.props;\n        const buttonClassName = classNames('bcs-VersionsItemButton', {\n            'bcs-is-disabled': isDisabled,\n            'bcs-is-selected': isSelected && !isDisabled,\n        });\n\n        return (\n            <PlainButton\n                aria-disabled={isDisabled}\n                className={buttonClassName}\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"select\"\n                data-testid=\"versions-item-button\"\n                getDOMRef={this.setButtonRef}\n                isDisabled={isDisabled}\n                onClick={onClick}\n                type=\"button\"\n            >\n                {children}\n            </PlainButton>\n        );\n    }\n}\n\nexport default VersionsItemButton;\n","// extracted by mini-css-extract-plugin","/**\n * @flow strict\n * @file Versions Item Retention component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_RETENTION_DELETE_ACTION,\n    VERSION_RETENTION_REMOVE_ACTION,\n    VERSION_RETENTION_INDEFINITE,\n} from '../../../constants';\nimport messages from './messages';\n\ntype Props = {\n    retention?: BoxItemVersionRetention,\n};\n\nconst RETENTION_MAP = {\n    [VERSION_RETENTION_DELETE_ACTION]: messages.versionRetentionDelete,\n    [VERSION_RETENTION_REMOVE_ACTION]: messages.versionRetentionRemove,\n};\n\nconst VersionsItemRetention = ({ retention }: Props) => {\n    const { disposition_at: dispositionAt, winning_retention_policy: retentionPolicy } = retention || {};\n    const { disposition_action: dispositionAction, retention_length: retentionLength } = retentionPolicy || {};\n    const dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n\n    if (!dispositionAction) {\n        return null;\n    }\n\n    return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? (\n        <FormattedMessage {...messages.versionRetentionIndefinite} />\n    ) : (\n        <FormattedMessage\n            {...RETENTION_MAP[dispositionAction]}\n            values={{\n                time: <ReadableTime timestamp={dispositionAtTime} showWeekday />,\n            }}\n        />\n    );\n};\n\nexport default VersionsItemRetention;\n","/**\n * @flow\n * @file Versions List component\n * @author Box\n */\n\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport VersionsItem from './VersionsItem';\nimport './VersionsList.scss';\n\ntype Props = {\n    currentId?: string,\n    fileId: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsList = ({ currentId, versions, ...rest }: Props) => (\n    <ul className=\"bcs-VersionsList\">\n        {versions.map(version => (\n            <li className=\"bcs-VersionsList-item\" key={version.id}>\n                <Route\n                    render={({ match }) => (\n                        <VersionsItem\n                            isCurrent={currentId === version.id}\n                            isSelected={match.params.versionId === version.id}\n                            version={version}\n                            {...rest}\n                        />\n                    )}\n                />\n            </li>\n        ))}\n    </ul>\n);\n\nexport default VersionsList;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Menu component\n * @author Box\n */\n\nimport React from 'react';\nimport last from 'lodash/last';\nimport { injectIntl, type intlShape } from 'react-intl';\nimport * as util from '../../../utils/datetime';\nimport messages from './messages';\nimport VersionsGroup from './VersionsGroup';\nimport './VersionsMenu.scss';\n\ntype Props = {\n    fileId: string,\n    intl: intlShape,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\ntype VersionGroups = Array<{ groupHeading: string, groupVersions: Array<BoxItemVersion> }>;\n\nconst getHeading = ({ intl, version }: { intl: intlShape, version: BoxItemVersion }): string => {\n    const { created_at: createdAt } = version;\n    const currentDate = new Date();\n    const currentDay = currentDate.getDay();\n    const currentSunday = currentDate.getDate() - currentDay;\n    const createdAtDate = util.convertToDate(createdAt);\n    let heading;\n\n    if (util.isToday(createdAtDate)) {\n        heading = intl.formatMessage(messages.versionsToday); // Today\n    } else if (util.isYesterday(createdAtDate)) {\n        heading = intl.formatMessage(messages.versionsYesterday); // Yesterday\n    } else if (!util.isCurrentYear(createdAtDate)) {\n        heading = intl.formatDate(createdAt, { year: 'numeric' }); // 2018\n    } else if (!util.isCurrentMonth(createdAtDate)) {\n        heading = intl.formatDate(createdAt, { month: 'long' }); // January\n    } else if (createdAtDate.getDate() <= currentSunday - 7) {\n        heading = intl.formatMessage(messages.versionsThisMonth); // This Month\n    } else if (createdAtDate.getDate() <= currentSunday) {\n        heading = intl.formatMessage(messages.versionsPriorWeek); // Last Week\n    } else {\n        heading = intl.formatDate(createdAt, { weekday: 'long' }); // Monday\n    }\n\n    return heading;\n};\n\nconst VersionsMenu = React.memo<Props>(({ intl, versions, ...rest }: Props) => {\n    const { id: currentId } = versions[0] || {};\n\n    // Build an ordered set of groups with headings based on the original order of the versions array\n    const versionGroups = versions.reduce((groups: VersionGroups, version: BoxItemVersion): VersionGroups => {\n        const currentGroup = last(groups);\n        const groupHeading = getHeading({ intl, version });\n\n        // Push a new group if there are no groups or if the heading has changed\n        if (!currentGroup || currentGroup.groupHeading !== groupHeading) {\n            groups.push({\n                groupHeading,\n                groupVersions: [],\n            });\n        }\n\n        // Push the sorted version to the newest group's versions collection\n        last(groups).groupVersions.push(version);\n\n        return groups;\n    }, []);\n\n    return (\n        <ul className=\"bcs-VersionsMenu\">\n            {versionGroups.map(({ groupHeading, groupVersions }) => (\n                <li className=\"bcs-VersionsMenu-item\" key={groupHeading}>\n                    <VersionsGroup currentId={currentId} heading={groupHeading} versions={groupVersions} {...rest} />\n                </li>\n            ))}\n        </ul>\n    );\n});\n\nexport default injectIntl(VersionsMenu);\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport InlineError from '../../../components/inline-error';\nimport messages from './messages';\nimport SidebarContent from '../SidebarContent';\nimport VersionsMenu from './VersionsMenu';\nimport { BackButton } from '../../common/nav-button';\nimport { DEFAULT_FETCH_END } from '../../../constants';\nimport { LoadingIndicatorWrapper } from '../../../components/loading-indicator';\nimport './VersionsSidebar.scss';\n\nconst MAX_VERSIONS = DEFAULT_FETCH_END;\n\ntype Props = {\n    error?: MessageDescriptor,\n    fileId: string,\n    isLoading: boolean,\n    parentName: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsSidebar = ({ error, isLoading, parentName, versions, ...rest }: Props) => {\n    const showLimit = versions.length >= MAX_VERSIONS;\n    const showVersions = !!versions.length;\n    const showEmpty = !isLoading && !showVersions;\n    const showError = !!error;\n\n    return (\n        <SidebarContent\n            className=\"bcs-Versions\"\n            data-resin-component=\"preview\"\n            data-resin-feature=\"versions\"\n            title={\n                <>\n                    <BackButton data-resin-target=\"back\" to={`/${parentName}`} />\n                    <FormattedMessage {...messages.versionsTitle} />\n                </>\n            }\n        >\n            <LoadingIndicatorWrapper className=\"bcs-Versions-content\" crawlerPosition=\"top\" isLoading={isLoading}>\n                {showError && (\n                    <InlineError title={<FormattedMessage {...messages.versionServerError} />}>\n                        <FormattedMessage {...error} />\n                    </InlineError>\n                )}\n\n                {showEmpty && (\n                    <div className=\"bcs-Versions-empty\">\n                        <FormattedMessage {...messages.versionsEmpty} />\n                    </div>\n                )}\n\n                {showVersions && (\n                    <div className=\"bcs-Versions-menu\">\n                        <VersionsMenu versions={versions} {...rest} />\n                    </div>\n                )}\n                {showLimit && (\n                    <div className=\"bcs-Versions-maxEntries\" data-testid=\"max-versions\">\n                        <FormattedMessage\n                            {...messages.versionMaxEntries}\n                            values={{\n                                maxVersions: MAX_VERSIONS,\n                            }}\n                        />\n                    </div>\n                )}\n            </LoadingIndicatorWrapper>\n        </SidebarContent>\n    );\n};\n\nexport default VersionsSidebar;\n","// extracted by mini-css-extract-plugin","/**\n * @flow\n * @file Versions Sidebar API Helper\n * @author Box\n */\nimport API from '../../../api';\nimport { FILE_VERSION_FIELDS_TO_FETCH } from '../../../utils/fields';\n\nexport type fetchPayload = [BoxItem, FileVersions];\n\nexport default class VersionsSidebarAPI {\n    api: API;\n\n    fileId: string;\n\n    constructor({ api, fileId }: { api: API, fileId: string }) {\n        this.api = api;\n        this.fileId = fileId;\n    }\n\n    fetchData = (): Promise<fetchPayload> => {\n        return Promise.all([this.fetchFile(), this.fetchVersions()]).then(this.fetchVersionCurrent);\n    };\n\n    fetchDownloadUrl = (version: ?BoxItemVersion): Promise<string> => {\n        return new Promise((resolve, reject) => {\n            if (!version) {\n                return reject(new Error('Could not find requested version'));\n            }\n\n            return this.api.getFileAPI().getDownloadUrl(this.fileId, version, resolve, reject);\n        });\n    };\n\n    fetchFile = (): Promise<BoxItem> => {\n        return new Promise((resolve, reject) =>\n            this.api.getFileAPI().getFile(this.fileId, resolve, reject, {\n                fields: FILE_VERSION_FIELDS_TO_FETCH,\n                forceFetch: true,\n            }),\n        );\n    };\n\n    fetchVersions = (): Promise<FileVersions> => {\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersions(this.fileId, resolve, reject),\n        );\n    };\n\n    fetchVersionCurrent = ([fileResponse, versionsResponse]: fetchPayload): Promise<fetchPayload> => {\n        const { file_version = {} } = fileResponse;\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersion(\n                this.fileId,\n                file_version.id,\n                (currentVersionResponse: BoxItemVersion) => {\n                    resolve([\n                        fileResponse,\n                        this.api\n                            .getVersionsAPI(false)\n                            .addCurrentVersion(currentVersionResponse, versionsResponse, fileResponse),\n                    ]);\n                },\n                reject,\n            ),\n        );\n    };\n\n    fetchVersion = (versionId: string): Promise<BoxItemVersion> => {\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).getVersion(this.fileId, versionId, resolve, reject),\n        );\n    };\n\n    deleteVersion = (version: ?BoxItemVersion): Promise<null> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).deleteVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n\n    promoteVersion = (version: ?BoxItemVersion): Promise<BoxItemVersion> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).promoteVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n\n    restoreVersion = (version: ?BoxItemVersion): Promise<any> => {\n        const { id: versionId, permissions = {} } = version || {};\n\n        return new Promise((resolve, reject) =>\n            this.api.getVersionsAPI(false).restoreVersion({\n                fileId: this.fileId,\n                permissions,\n                successCallback: resolve,\n                errorCallback: reject,\n                versionId,\n            }),\n        );\n    };\n}\n","/**\n * @flow\n * @file Versions Sidebar container\n * @author Box\n */\n\nimport React from 'react';\nimport flow from 'lodash/flow';\nimport getProp from 'lodash/get';\nimport merge from 'lodash/merge';\nimport noop from 'lodash/noop';\nimport { generatePath, withRouter } from 'react-router-dom';\nimport type { Match, RouterHistory } from 'react-router-dom';\nimport type { MessageDescriptor } from 'react-intl';\nimport API from '../../../api';\nimport messages from './messages';\nimport openUrlInsideIframe from '../../../utils/iframe';\nimport VersionsSidebar from './VersionsSidebar';\nimport VersionsSidebarAPI from './VersionsSidebarAPI';\nimport { withAPIContext } from '../../common/api-context';\nimport type { VersionActionCallback, VersionChangeCallback } from './flowTypes';\n\ntype Props = {\n    api: API,\n    fileId: string,\n    history: RouterHistory,\n    match: Match,\n    onVersionChange: VersionChangeCallback,\n    onVersionDelete: VersionActionCallback,\n    onVersionDownload: VersionActionCallback,\n    onVersionPreview: VersionActionCallback,\n    onVersionPromote: VersionActionCallback,\n    onVersionRestore: VersionActionCallback,\n    parentName: string,\n    versionId?: string,\n};\n\ntype State = {\n    error?: MessageDescriptor,\n    isLoading: boolean,\n    isWatermarked: boolean,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nclass VersionsSidebarContainer extends React.Component<Props, State> {\n    static defaultProps = {\n        onVersionChange: noop,\n        onVersionDelete: noop,\n        onVersionDownload: noop,\n        onVersionPreview: noop,\n        onVersionPromote: noop,\n        onVersionRestore: noop,\n        parentName: '',\n    };\n\n    api: VersionsSidebarAPI;\n\n    props: Props;\n\n    state: State = {\n        isLoading: true,\n        isWatermarked: false,\n        versionCount: Infinity,\n        versionLimit: Infinity,\n        versions: [],\n    };\n\n    window: any = window;\n\n    componentDidMount() {\n        this.initialize();\n        this.fetchData();\n    }\n\n    componentDidUpdate({ fileId: prevFileId, versionId: prevVersionId }: Props) {\n        const { fileId, versionId } = this.props;\n\n        if (fileId !== prevFileId) {\n            this.refresh();\n        }\n\n        if (versionId !== prevVersionId) {\n            this.verifyVersion();\n        }\n    }\n\n    componentWillUnmount() {\n        // Reset the current version id since the wrapping route is no longer active\n        this.props.onVersionChange(null);\n    }\n\n    handleActionDelete = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .deleteVersion(this.findVersion(versionId))\n            .then(() => this.api.fetchVersion(versionId))\n            .then(this.handleDeleteSuccess)\n            .then(() => this.props.onVersionDelete(versionId))\n            .catch(() => this.handleActionError(messages.versionActionDeleteError));\n    };\n\n    handleActionDownload = (versionId: string): Promise<void> => {\n        return this.api\n            .fetchDownloadUrl(this.findVersion(versionId))\n            .then(openUrlInsideIframe)\n            .then(() => this.props.onVersionDownload(versionId))\n            .catch(() => this.handleActionError(messages.versionActionDownloadError));\n    };\n\n    handleActionPreview = (versionId: string): void => {\n        this.updateVersion(versionId);\n        this.props.onVersionPreview(versionId);\n    };\n\n    handleActionPromote = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .promoteVersion(this.findVersion(versionId))\n            .then(this.api.fetchData)\n            .then(this.handleFetchSuccess)\n            .then(this.handlePromoteSuccess)\n            .then(() => this.props.onVersionPromote(versionId))\n            .catch(() => this.handleActionError(messages.versionActionPromoteError));\n    };\n\n    handleActionRestore = (versionId: string): Promise<void> => {\n        this.setState({ isLoading: true });\n\n        return this.api\n            .restoreVersion(this.findVersion(versionId))\n            .then(() => this.api.fetchVersion(versionId))\n            .then(this.handleRestoreSuccess)\n            .then(() => this.props.onVersionRestore(versionId))\n            .catch(() => this.handleActionError(messages.versionActionRestoreError));\n    };\n\n    handleActionError = (message: MessageDescriptor): void => {\n        this.setState({\n            error: message,\n            isLoading: false,\n        });\n    };\n\n    handleDeleteSuccess = (data: BoxItemVersion): void => {\n        const { versionId: selectedVersionId } = this.props;\n        const { id: versionId } = data;\n\n        this.mergeResponse(data);\n\n        // Bump the user to the current version if they deleted their selected version\n        if (versionId === selectedVersionId) {\n            this.updateVersionToCurrent();\n        }\n    };\n\n    handleRestoreSuccess = (data: BoxItemVersion): void => {\n        this.mergeResponse(data);\n    };\n\n    handleFetchError = (): void => {\n        this.setState({\n            error: messages.versionFetchError,\n            isLoading: false,\n            isWatermarked: false,\n            versionCount: 0,\n            versions: [],\n        });\n    };\n\n    handleFetchSuccess = ([fileResponse, versionsResponse]): [BoxItem, FileVersions] => {\n        const { api } = this.props;\n        const { version_limit } = fileResponse;\n        const isWatermarked = getProp(fileResponse, 'watermark_info.is_watermarked', false);\n        const versionLimit = version_limit !== null && version_limit !== undefined ? version_limit : Infinity;\n        const versionsWithPermissions = api.getVersionsAPI(false).addPermissions(versionsResponse, fileResponse) || {};\n        const { entries: versions, total_count: versionCount } = versionsWithPermissions;\n\n        this.setState(\n            {\n                error: undefined,\n                isLoading: false,\n                isWatermarked,\n                versionCount,\n                versionLimit,\n                versions: this.sortVersions(versions),\n            },\n            this.verifyVersion,\n        );\n\n        return [fileResponse, versionsResponse];\n    };\n\n    handlePromoteSuccess = ([file]: [BoxItem, FileVersions]): void => {\n        const { file_version: fileVersion } = file;\n\n        if (fileVersion) {\n            this.updateVersion(fileVersion.id);\n        }\n    };\n\n    initialize = (): void => {\n        this.api = new VersionsSidebarAPI(this.props);\n    };\n\n    fetchData = (): void => {\n        this.api\n            .fetchData()\n            .then(this.handleFetchSuccess)\n            .catch(this.handleFetchError);\n    };\n\n    findVersion = (versionId: ?string): ?BoxItemVersion => {\n        const { versions } = this.state;\n\n        return versions.find(version => version.id === versionId);\n    };\n\n    getCurrentVersionId = (): ?string => {\n        const { versions } = this.state;\n        return versions[0] ? versions[0].id : null;\n    };\n\n    mergeVersions = (newVersion: BoxItemVersion): Array<BoxItemVersion> => {\n        const { versions } = this.state;\n        const newVersionId = newVersion ? newVersion.id : '';\n        return versions.map(version => (version.id === newVersionId ? merge({ ...version }, newVersion) : version));\n    };\n\n    mergeResponse = (data: BoxItemVersion): void => {\n        const newVersions = this.mergeVersions(data);\n\n        this.setState({\n            error: undefined,\n            isLoading: false,\n            versions: newVersions,\n        });\n    };\n\n    refresh(): void {\n        this.initialize();\n        this.setState({ isLoading: true }, this.fetchData);\n    }\n\n    sortVersions(versions?: Array<BoxItemVersion> = []): Array<BoxItemVersion> {\n        return [...versions].sort((a, b) => Date.parse(b.created_at) - Date.parse(a.created_at));\n    }\n\n    updateVersion = (versionId?: ?string): void => {\n        const { history, match } = this.props;\n        return history.push(generatePath(match.path, { ...match.params, versionId }));\n    };\n\n    updateVersionToCurrent = (): void => {\n        this.updateVersion(this.getCurrentVersionId());\n    };\n\n    verifyVersion = () => {\n        const { onVersionChange, versionId } = this.props;\n        const selectedVersion = this.findVersion(versionId);\n\n        if (selectedVersion) {\n            onVersionChange(selectedVersion, {\n                currentVersionId: this.getCurrentVersionId(),\n                updateVersionToCurrent: this.updateVersionToCurrent,\n            });\n        } else {\n            this.updateVersionToCurrent();\n        }\n    };\n\n    render() {\n        const { fileId, parentName } = this.props;\n\n        return (\n            <VersionsSidebar\n                fileId={fileId}\n                onDelete={this.handleActionDelete}\n                onDownload={this.handleActionDownload}\n                onPreview={this.handleActionPreview}\n                onPromote={this.handleActionPromote}\n                onRestore={this.handleActionRestore}\n                parentName={parentName}\n                {...this.state}\n            />\n        );\n    }\n}\n\nexport type VersionsSidebarProps = Props;\nexport default flow([withRouter, withAPIContext])(VersionsSidebarContainer);\n","// @flow\nexport { default } from './VersionsSidebarContainer';\nexport { default as VersionsSidebarComponent } from './VersionsSidebar';\nexport type { VersionsSidebarProps } from './VersionsSidebarContainer';\nexport type * from './flowTypes';\n","// @flow strict\n\nimport { defineMessages } from 'react-intl';\n\nconst messages = defineMessages({\n    versionsEmpty: {\n        id: 'be.sidebarVersions.empty',\n        description: 'Message to display when no versions are available',\n        defaultMessage: 'No prior versions are available for this file.',\n    },\n    versionsPriorWeek: {\n        id: 'be.sidebarVersions.priorWeek',\n        description: 'Header to display for group of versions created in the prior week',\n        defaultMessage: 'Last Week',\n    },\n    versionsThisMonth: {\n        id: 'be.sidebarVersions.thisMonth',\n        description: 'Header to display for group of versions created in the current month',\n        defaultMessage: 'This Month',\n    },\n    versionsToday: {\n        id: 'be.sidebarVersions.today',\n        description: 'Header to display for group of versions created yesterday',\n        defaultMessage: 'Today',\n    },\n    versionsYesterday: {\n        id: 'be.sidebarVersions.yesterday',\n        description: 'Header to display for group of versions created today',\n        defaultMessage: 'Yesterday',\n    },\n    versionsTitle: {\n        id: 'be.sidebarVersions.title',\n        description: 'Title for the preview versions sidebar',\n        defaultMessage: 'Version History',\n    },\n    versionCurrent: {\n        id: 'be.sidebarVersions.current',\n        defaultMessage: 'Current Version',\n        description: 'Label for the current version item in the version history list.',\n    },\n    versionActionDelete: {\n        id: 'be.sidebarVersions.delete',\n        defaultMessage: 'Delete',\n        description: 'Label for the version delete action.',\n    },\n    versionActionDeleteError: {\n        id: 'be.sidebarVersions.deleteError',\n        defaultMessage: 'File version could not be deleted.',\n        description: 'Error message for the version delete action.',\n    },\n    versionActionDisabledRetention: {\n        id: 'be.sidebarVersions.disabledByRetention',\n        defaultMessage: 'Disabled by retention policy',\n        description: 'Tooltip message for actions disabled by retention policy.',\n    },\n    versionActionDownload: {\n        id: 'be.sidebarVersions.download',\n        defaultMessage: 'Download',\n        description: 'Label for the version download action.',\n    },\n    versionActionDownloadError: {\n        id: 'be.sidebarVersions.downloadError',\n        defaultMessage: 'File version could not be downloaded.',\n        description: 'Error message for the version download action.',\n    },\n    versionActionPreview: {\n        id: 'be.sidebarVersions.preview',\n        defaultMessage: 'Preview',\n        description: 'Label for the version preview action.',\n    },\n    versionActionPromote: {\n        id: 'be.sidebarVersions.promote',\n        defaultMessage: 'Make Current',\n        description: 'Label for the version promote action.',\n    },\n    versionActionPromoteError: {\n        id: 'be.sidebarVersions.promoteError',\n        defaultMessage: 'File version could not be made current.',\n        description: 'Error message for the version promote action.',\n    },\n    versionActionRestore: {\n        id: 'be.sidebarVersions.restore',\n        defaultMessage: 'Restore',\n        description: 'Label for the version restore action.',\n    },\n    versionActionRestoreError: {\n        id: 'be.sidebarVersions.restoreError',\n        defaultMessage: 'File version could not be restored.',\n        description: 'Error message for the version restored action.',\n    },\n    versionActionToggle: {\n        id: 'be.sidebarVersions.toggle',\n        defaultMessage: 'Toggle Actions Menu',\n        description: 'Label for the version actions dropdown menu toggle button.',\n    },\n    versionDeletedBy: {\n        id: 'be.sidebarVersions.deletedBy',\n        defaultMessage: 'Deleted by {name}',\n        description: 'Message displayed for a deleted version. {name} is the user who performed the action.',\n    },\n    versionFetchError: {\n        id: 'be.sidebarVersions.fetchError',\n        defaultMessage: 'File versions could not be retrieved.',\n        description: 'Error message for the versions fetch call.',\n    },\n    versionLimitExceeded: {\n        id: 'be.sidebarVersions.versionLimitExceeded',\n        defaultMessage:\n            'You are limited to the last {versionLimit, number} {versionLimit, plural, one {version} other {versions}}.',\n        description: \"Text displayed if a version exceeds the user's maximum allowed version count\",\n    },\n    versionNumberBadge: {\n        id: 'be.sidebarVersions.versionNumberBadge',\n        defaultMessage: 'V{versionNumber}',\n        description: 'Text to display in the version badge.',\n    },\n    versionNumberLabel: {\n        id: 'be.sidebarVersions.versionNumberLabel',\n        defaultMessage: 'Version number {versionNumber}',\n        description: 'Label given to the version badge for screen readers.',\n    },\n    versionPromotedBy: {\n        id: 'be.sidebarVersions.promotedBy',\n        defaultMessage: 'Promoted from v{versionPromoted} by {name}',\n        description: 'Message displayed for a restored version. {name} is the user who performed the action.',\n    },\n    versionRestoredBy: {\n        id: 'be.sidebarVersions.restoredBy',\n        defaultMessage: 'Restored by {name}',\n        description: 'Message displayed for a restored version. {name} is the user who performed the action.',\n    },\n    versionServerError: {\n        id: 'be.sidebarVersions.serverError',\n        defaultMessage: 'Server Error',\n        description: 'Heading for inline error messages displayed due to a remote server issue.',\n    },\n    versionUploadedBy: {\n        id: 'be.sidebarVersions.uploadedBy',\n        defaultMessage: 'Uploaded by {name}',\n        description: 'Message displayed for an uploaded version. {name} is the user who performed the action.',\n    },\n    versionUserUnknown: {\n        id: 'be.sidebarVersions.versionUserUnknown',\n        defaultMessage: 'Unknown',\n        description: 'Name displayed for unknown or deleted users.',\n    },\n    versionMaxEntries: {\n        id: 'be.sidebarVersions.versionMaxEntries',\n        defaultMessage: 'Version history is limited to the last {maxVersions} entries.',\n        description: 'Max supported entries for version history',\n    },\n    versionRetentionDelete: {\n        id: 'be.sidebarVersions.versionRetentionDelete',\n        defaultMessage: 'Will be deleted {time} by retention policy.',\n        description: 'Message describing when the version will be deleted due to an applied retention policy.',\n    },\n    versionRetentionIndefinite: {\n        id: 'be.sidebarVersions.versionRetentionIndefinite',\n        defaultMessage: 'Retained indefinitely by retention policy.',\n        description: 'Message describing that the version retention policy is indefinite and will not expire.',\n    },\n    versionRetentionRemove: {\n        id: 'be.sidebarVersions.versionRetentionRemove',\n        defaultMessage: 'Retention policy expires on {time}.',\n        description: 'Message describing when the version retention policy will expire.',\n    },\n});\n\nexport default messages;\n","// @flow\nimport * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\n\ntype Props = {\n    className?: string,\n    color?: string,\n    height?: number,\n    /** A text-only string describing the icon if it's not purely decorative for accessibility */\n    title?: string | React.Element<any>,\n    width?: number,\n};\n\nconst IconClockPast = ({ className = '', color = '#444', height = 14, title, width = 16 }: Props) => (\n    <AccessibleSVG\n        className={`icon-clock-past ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 14\"\n        width={width}\n    >\n        <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(0 1)\">\n            <rect className=\"fill-color\" fill={color} height=\"5\" rx=\".5\" width=\"1\" x=\"9.66\" y=\"3\" />\n            <rect className=\"fill-color\" fill={color} height=\"1\" rx=\".5\" width=\"3\" x=\"9.66\" y=\"7\" />\n            <path\n                className=\"stroke-color\"\n                d=\"M5.66 10.62C6.697 11.48 8.032 12 9.487 12c3.314 0 6-2.686 6-6s-2.686-6-6-6c-3.313 0-6 2.686-6 6\"\n                stroke={color}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path className=\"fill-color\" d=\"M6.317 5l-2.83 2.828L.66 5\" fill={color} />\n        </g>\n    </AccessibleSVG>\n);\n\nexport default IconClockPast;\n","// @flow\nimport * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\nimport { bdlGray80 } from '../../styles/variables';\n\ntype Props = {\n    className?: string,\n    color?: string,\n    height?: number,\n    /** A text-only string describing the icon if it's not purely decorative for accessibility */\n    title?: string | React.Element<any>,\n    width?: number,\n};\n\nconst IconDownload = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Props) => (\n    <AccessibleSVG\n        className={`icon-download ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M14 14v1H2v-1h12zM10.996 2v4.997H14L8 13 2 6.997h3.004V2h5.992zm-.998 1H6.002v4.996h-1.59L8 11.586l3.589-3.59H9.998V3z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconDownload;\n","// @flow\nimport * as React from 'react';\n\nimport AccessibleSVG from '../accessible-svg';\nimport { bdlGray80 } from '../../styles/variables';\n\ntype Props = {\n    className?: string,\n    color?: string,\n    height?: number,\n    /** A text-only string describing the icon if it's not purely decorative for accessibility */\n    title?: string | React.Element<any>,\n    width?: number,\n};\n\nconst IconOpenWith = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Props) => (\n    <AccessibleSVG\n        className={`icon-open-with ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 2v6h-1V6.71l-4.65 4.64-.7-.7L9.29 6H5V5h6z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconOpenWith;\n","// @flow\nimport * as React from 'react';\nimport { bdlGray80 } from '../../styles/variables';\nimport AccessibleSVG from '../accessible-svg';\n\ntype Props = {\n    className?: string,\n    color?: string,\n    height?: number,\n    /** A text-only string describing the icon if it's not purely decorative for accessibility */\n    title?: string | React.Element<any>,\n    width?: number,\n};\n\nconst IconUpload = ({ className = '', color = bdlGray80, height = 16, title, width = 16 }: Props) => (\n    <AccessibleSVG\n        className={`icon-upload ${className}`}\n        height={height}\n        title={title}\n        viewBox=\"0 0 16 16\"\n        width={width}\n    >\n        <path\n            className=\"fill-color\"\n            fill={color}\n            fillRule=\"evenodd\"\n            d=\"M14 14v1H2v-1h12zM8 1l6 6.003h-3.004V12H5.004V7.003H2L8 1zm0 1.413l-3.589 3.59h1.591v4.998h3.996V6.004h1.59L8 2.414z\"\n        />\n    </AccessibleSVG>\n);\n\nexport default IconUpload;\n","/**\n * @flow\n * @file Function to create iframe and downloading\n * @author Box\n */\n\n/**\n * Creates an empty iframe or uses an existing one\n * for the purposes of downloading or printing\n *\n * @private\n * @return {HTMLIFrameElement} Iframe\n */\nfunction createDownloadIframe(): HTMLIFrameElement {\n    let iframe: HTMLIFrameElement = ((document.querySelector('#boxdownloadiframe'): any): HTMLIFrameElement);\n    if (!iframe) {\n        // if no existing iframe create a new one\n        iframe = document.createElement('iframe');\n        iframe.setAttribute('id', 'boxdownloadiframe');\n        iframe.style.display = 'none';\n        if (document.body) {\n            document.body.appendChild(iframe);\n        }\n    }\n\n    // Clean the iframe up\n    iframe.contentDocument.write('<head></head><body></body>');\n    return iframe;\n}\n\n/**\n * Opens url in an iframe\n * Used for downloads\n *\n * @param {string} url - URL to open\n * @return {HTMLIFrameElement}\n */\nexport default function openUrlInsideIframe(url: string): HTMLIFrameElement {\n    const iframe: HTMLIFrameElement = createDownloadIframe();\n    iframe.src = url;\n    return iframe;\n}\n","/**\n * @flow\n * @file Function to create size in words out of number\n * @author Box\n */\n\n/**\n * Gets the size in words\n *\n * @param {number} size in bytes\n * @return {string} size in words\n */\nexport default function(size?: number): string {\n    if (!size) return '0 Byte';\n    const kilo: number = 1024;\n    const decimals: number = 2;\n    const sizes: string[] = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    const exp: number = Math.floor(Math.log(size) / Math.log(kilo));\n    return `${parseFloat((size / kilo ** exp).toFixed(decimals))} ${sizes[exp]}`;\n}\n"],"sourceRoot":""}